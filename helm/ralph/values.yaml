image:
  repository: gcr.io/replikanti/ralph
  tag: "0.1.0"
redis:
  # For local development or non-persistent internal redis
  url: "redis://ralph-redis-master:6379"
  # For GCP Memorystore or other managed Redis (OVERRIDES url above)
  # Create a secret named 'ralph-redis-secret' with key 'redis-url' containing the full connection string
  # existingSecret: "ralph-redis-secret"
  # existingSecretKey: "redis-url"

secrets:
  # Map these to your existing K8s secrets
  githubToken: "ralph-github-token"
  anthropicKey: "ralph-anthropic-key"
  langfuse: "ralph-langfuse"
  linearWebhook: "ralph-linear-secret"
resources:
  api:
    requests:
      cpu: "100m"
      memory: "256Mi"
    limits:
      cpu: "500m"
      memory: "512Mi"
  worker:
    requests:
      cpu: "250m"
      memory: "512Mi"
    limits:
      cpu: "1000m"
      memory: "2Gi"

ingress:
  enabled: false
  className: ""
  annotations: {}
    # kubernetes.io/ingress.class: nginx
    # kubernetes.io/tls-acme: "true"
  hosts:
    - host: ralph.local
      paths:
        - path: /
          pathType: Prefix
  tls: []
  #  - secretName: chart-example-tls
  #    hosts:
  #      - chart-example.local

securityContext:
  runAsNonRoot: true
  runAsUser: 1000
  fsGroup: 1000

scaling:
  workerReplicas: 2
